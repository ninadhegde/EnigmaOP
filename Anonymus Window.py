

from resources import Rotors
from resources import generate
from resources import convert_ascii
from resources import Encryption
from resources import Decryption
#importing the mechine wirings
tple=Rotors.Rotor()
wiring=list(tple)

ascii_num=12
input_string=input('Enter Something for encryption')
cipher_text=''
initial_settings=[]
#Rotor_combination,Rotor_Setting=generate.random_settings()

Rotor_Setting=[128, 32, 127, 10, 67, 29, 119, 60, 104, 91, 37, 57, 64, 71, 59, 119, 63, 89, 11, 34, 2, 91, 45, 105, 29, 10, 109, 15, 20, 64, 67, 74, 98, 99, 122, 94, 59, 24, 76, 96, 107, 54, 94, 29, 13, 12, 79, 21, 82, 49, 128, 77, 68, 107, 120, 118, 113, 2, 99, 22, 19, 73, 13, 110, 119, 17, 94, 16, 113, 115, 112, 122, 11, 86, 73, 93, 54, 33, 11, 22, 88, 4, 67, 101, 84, 70, 59, 63, 61, 82, 3, 112, 21, 71, 109, 0, 12, 126, 7, 90, 33, 17, 107, 118, 26, 117, 107, 91, 43, 61, 75, 89, 115, 61, 89, 52, 3, 91, 6, 67, 116, 1, 128, 33, 58, 69, 36, 18, 5, 48, 21, 7, 18, 38, 59, 98, 79, 93, 32, 8, 109, 88, 126, 44, 76, 15, 86, 117, 120, 32, 1, 12, 100, 3, 121, 69, 42, 46, 78, 124, 115, 23, 22, 27, 91, 125, 20, 119, 47, 20, 123, 95, 41, 92, 118, 3, 34, 90, 103, 100, 17, 16, 82, 48, 25, 80, 80, 80, 13, 2, 86, 60, 8, 10, 30, 127, 67, 2, 65, 35, 109, 124, 103, 113, 80, 62, 90, 60, 121, 61, 17, 2, 98, 99, 108, 121, 51, 74, 65, 24, 110, 11, 34, 21, 7, 76, 127, 48, 123, 64, 113, 65, 91, 21, 25, 12, 109, 47, 60, 45, 5, 75, 17, 110, 66, 83, 72, 38, 117, 99, 87, 123, 18, 28, 25, 76, 84, 90, 3, 38, 83, 114, 88, 67, 83, 60, 74, 106, 50, 86, 67, 18, 122, 34, 77, 90, 69, 90, 10, 60, 30, 13, 101, 103, 112, 86, 53, 46, 58, 77, 104, 58, 111, 58, 85, 93, 125, 97, 32, 12]
Rotor_combination=[69, 335, 81, 28, 70, 270, 294, 45, 83, 181, 236, 118, 203, 49, 163, 265, 206, 32, 138, 297, 8, 128, 281, 295, 260, 114, 108, 229, 120, 126, 43, 346, 96, 257, 145, 300, 155, 182, 146, 19, 14, 241, 222, 68, 31, 312, 66, 0, 76, 156, 255, 343, 302, 135, 256, 322, 296, 263, 116, 344, 235, 150, 278, 159, 106, 232, 233, 109, 262, 10, 272, 301, 339, 348, 290, 330, 102, 178, 223, 259, 153, 33, 158, 189, 199, 217, 15, 169, 268, 57, 226, 110, 336, 238, 117, 142, 250, 273, 132, 149, 5, 274, 242, 292, 314, 72, 252, 124, 280, 99, 279, 58, 92, 284, 4, 212, 200, 228, 175, 208, 289, 55, 25, 122, 82, 88, 59, 172, 247, 144, 140, 40, 321, 78, 89, 215, 103, 326, 139, 134, 133, 283, 310, 313, 191, 337, 177, 291, 148, 254, 44, 307, 107, 1, 287, 136, 157, 95, 60, 249, 227, 113, 151, 20, 179, 349, 216, 266, 137, 315, 234, 90, 190, 12, 201, 230, 246, 264, 209, 100, 48, 154, 219, 119, 198, 196, 325, 24, 293, 54, 333, 253, 27, 185, 125, 35, 52, 338, 161, 39, 269, 26, 173, 288, 193, 271, 101, 65, 105, 30, 218, 77, 308, 340, 282, 79, 91, 98, 305, 84, 239, 261, 224, 21, 180, 11, 184, 317, 244, 323, 347, 187, 7, 211, 225, 186, 248, 306, 197, 38, 127, 231, 192, 327, 334, 56, 75, 168, 104, 164, 204, 2, 332, 18, 167, 131, 341, 71, 152, 62, 50, 207, 36, 174, 221, 258, 194, 41, 318, 331, 42, 13, 285, 67, 214, 213, 160, 64, 9, 23, 220, 324, 237, 29, 111, 37, 205, 276, 320, 176, 243, 303, 165, 63, 47, 311, 188, 130, 319, 97]
initial_settings.append(Rotor_combination)
initial_settings.append(Rotor_Setting)
for i in input_string:
    ascii_num=convert_ascii.tonum(i)
    Rotor_combination,Rotor_Setting,ascii_num=Encryption.encrypt(Rotor_combination,Rotor_Setting,ascii_num)
    var=ascii_num
    cipher_text=cipher_text+convert_ascii.tochar(var)
print('Encrypted text= '+cipher_text)
print('Key = ')
print(initial_settings)


Rotor_combination=[69, 335, 81, 28, 70, 270, 294, 45, 83, 181, 236, 118, 203, 49, 163, 265, 206, 32, 138, 297, 8, 128, 281, 295, 260, 114, 108, 229, 120, 126, 43, 346, 96, 257, 145, 300, 155, 182, 146, 19, 14, 241, 222, 68, 31, 312, 66, 0, 76, 156, 255, 343, 302, 135, 256, 322, 296, 263, 116, 344, 235, 150, 278, 159, 106, 232, 233, 109, 262, 10, 272, 301, 339, 348, 290, 330, 102, 178, 223, 259, 153, 33, 158, 189, 199, 217, 15, 169, 268, 57, 226, 110, 336, 238, 117, 142, 250, 273, 132, 149, 5, 274, 242, 292, 314, 72, 252, 124, 280, 99, 279, 58, 92, 284, 4, 212, 200, 228, 175, 208, 289, 55, 25, 122, 82, 88, 59, 172, 247, 144, 140, 40, 321, 78, 89, 215, 103, 326, 139, 134, 133, 283, 310, 313, 191, 337, 177, 291, 148, 254, 44, 307, 107, 1, 287, 136, 157, 95, 60, 249, 227, 113, 151, 20, 179, 349, 216, 266, 137, 315, 234, 90, 190, 12, 201, 230, 246, 264, 209, 100, 48, 154, 219, 119, 198, 196, 325, 24, 293, 54, 333, 253, 27, 185, 125, 35, 52, 338, 161, 39, 269, 26, 173, 288, 193, 271, 101, 65, 105, 30, 218, 77, 308, 340, 282, 79, 91, 98, 305, 84, 239, 261, 224, 21, 180, 11, 184, 317, 244, 323, 347, 187, 7, 211, 225, 186, 248, 306, 197, 38, 127, 231, 192, 327, 334, 56, 75, 168, 104, 164, 204, 2, 332, 18, 167, 131, 341, 71, 152, 62, 50, 207, 36, 174, 221, 258, 194, 41, 318, 331, 42, 13, 285, 67, 214, 213, 160, 64, 9, 23, 220, 324, 237, 29, 111, 37, 205, 276, 320, 176, 243, 303, 165, 63, 47, 311, 188, 130, 319, 97]
Rotor_Setting=[128, 32, 127, 10, 67, 29, 119, 60, 104, 91, 37, 57, 64, 71, 59, 119, 63, 89, 11, 34, 2, 91, 45, 105, 29, 10, 109, 15, 20, 64, 67, 74, 98, 99, 122, 94, 59, 24, 76, 96, 107, 54, 94, 29, 13, 12, 79, 21, 82, 49, 128, 77, 68, 107, 120, 118, 113, 2, 99, 22, 19, 73, 13, 110, 119, 17, 94, 16, 113, 115, 112, 122, 11, 86, 73, 93, 54, 33, 11, 22, 88, 4, 67, 101, 84, 70, 59, 63, 61, 82, 3, 112, 21, 71, 109, 0, 12, 126, 7, 90, 33, 17, 107, 118, 26, 117, 107, 91, 43, 61, 75, 89, 115, 61, 89, 52, 3, 91, 6, 67, 116, 1, 128, 33, 58, 69, 36, 18, 5, 48, 21, 7, 18, 38, 59, 98, 79, 93, 32, 8, 109, 88, 126, 44, 76, 15, 86, 117, 120, 32, 1, 12, 100, 3, 121, 69, 42, 46, 78, 124, 115, 23, 22, 27, 91, 125, 20, 119, 47, 20, 123, 95, 41, 92, 118, 3, 34, 90, 103, 100, 17, 16, 82, 48, 25, 80, 80, 80, 13, 2, 86, 60, 8, 10, 30, 127, 67, 2, 65, 35, 109, 124, 103, 113, 80, 62, 90, 60, 121, 61, 17, 2, 98, 99, 108, 121, 51, 74, 65, 24, 110, 11, 34, 21, 7, 76, 127, 48, 123, 64, 113, 65, 91, 21, 25, 12, 109, 47, 60, 45, 5, 75, 17, 110, 66, 83, 72, 38, 117, 99, 87, 123, 18, 28, 25, 76, 84, 90, 3, 38, 83, 114, 88, 67, 83, 60, 74, 106, 50, 86, 67, 18, 122, 34, 77, 90, 69, 90, 10, 60, 30, 13, 101, 103, 112, 86, 53, 46, 58, 77, 104, 58, 111, 58, 85, 93, 125, 97, 32, 12]

input_string=input('Enter Something for decryption')
for i in input_string:
    ascii_num=convert_ascii.tonum(i)
    Rotor_combination,Rotor_Setting,ascii_num=Decryption.decrypt(Rotor_combination,Rotor_Setting,ascii_num)
    var=ascii_num
    cipher_text=cipher_text+convert_ascii.tochar(var)
print('Decrypted text= '+cipher_text)
