

from Resources import *

#importing the mechine wirings
tple=Rotor()
wiring=list(tple)

ascii_num=12
input_string=input('Enter Something for encryption')
cipher_text=''
initial_settings=[]
#Rotor_combination,Rotor_Setting=random_settings()

Rotor_Setting=[22, 99, 57, 96, 72, 108, 30, 43, 120, 10, 19, 117, 69, 55, 77, 115, 22, 77, 74, 102, 57, 22, 46, 86, 15, 29, 23, 67, 91, 55, 117, 122, 84, 28, 51, 118, 26, 21, 52, 63, 91, 22, 73, 81, 46, 98, 58, 113, 66, 57, 97, 55, 19, 42, 111, 21, 87, 84, 91, 40, 14, 100, 110, 81, 3, 20, 87, 107, 114, 117, 41, 90, 50, 72, 8, 104, 8, 68, 19, 6, 58, 60, 72, 120, 69, 111, 45, 116, 102, 28, 51, 78, 69, 38, 22, 43, 106, 40, 26, 47, 90, 77, 94, 14, 101, 125, 83, 82, 48, 21, 52, 46, 40, 102, 65, 121, 21, 37, 91, 19, 112, 77, 62, 2, 61, 95, 69, 11, 107, 105, 6, 75, 25, 100, 22, 19, 52, 95, 113, 115, 95, 66, 61, 2, 121, 58, 94, 42, 73, 126, 90, 48, 49, 109, 77, 75, 64, 107, 47, 120, 11, 94, 122, 10, 75, 110, 6, 57, 123, 75, 25, 93, 90, 90, 121, 112, 56, 10, 40, 86, 107, 25, 38, 87, 77, 95, 100, 7, 11, 81, 89, 80, 25, 6, 49, 15, 83, 98, 10, 94, 101, 95, 46, 28, 50, 52, 75, 115, 116, 61, 90, 78, 11, 101, 57, 17, 98, 102, 24, 8, 33, 113, 68, 93, 48, 103, 60, 39, 113, 75, 58, 104, 110, 5, 72, 125, 43, 107, 68, 114, 124, 40, 109, 74, 116, 96, 124, 59, 98, 23, 96, 78, 7, 54, 86, 60, 80, 31, 50, 9, 91, 78, 98, 74, 52, 22, 107, 123, 104, 108, 13, 86, 32, 94, 51, 119, 89, 48, 0, 109, 96, 34, 93, 15, 41, 23, 40, 71, 122, 105, 103, 51, 62, 38, 108, 114, 121, 52, 86, 55]
Rotor_combination=[82, 91, 260, 338, 330, 215, 267, 175, 21, 187, 230, 7, 206, 346, 108, 17, 31, 71, 245, 275, 265, 240, 149, 65, 85, 302, 117, 192, 341, 277, 186, 59, 79, 92, 125, 87, 6, 197, 325, 304, 73, 248, 281, 75, 290, 128, 134, 74, 115, 112, 190, 199, 273, 127, 24, 49, 2, 141, 224, 10, 205, 335, 109, 320, 137, 331, 81, 234, 274, 156, 177, 195, 43, 315, 306, 143, 51, 100, 227, 328, 339, 183, 305, 15, 210, 90, 48, 30, 253, 272, 326, 276, 225, 243, 94, 96, 130, 323, 189, 258, 93, 181, 222, 194, 349, 14, 151, 158, 36, 196, 12, 332, 66, 345, 279, 153, 150, 120, 152, 226, 106, 334, 278, 160, 293, 311, 280, 299, 26, 301, 262, 241, 314, 337, 297, 63, 188, 19, 300, 259, 155, 174, 114, 216, 233, 33, 76, 3, 294, 185, 57, 193, 249, 207, 145, 250, 221, 321, 99, 98, 28, 178, 217, 23, 101, 288, 142, 223, 104, 313, 214, 208, 146, 83, 201, 171, 52, 159, 228, 111, 68, 310, 105, 211, 124, 67, 202, 47, 303, 13, 56, 55, 231, 136, 287, 295, 176, 318, 309, 4, 173, 343, 42, 308, 191, 89, 118, 348, 0, 18, 97, 161, 289, 271, 342, 157, 132, 162, 133, 184, 179, 319, 113, 44, 220, 247, 212, 72, 168, 116, 20, 237, 144, 172, 242, 232, 251, 8, 198, 283, 229, 344, 286, 62, 29, 50, 11, 166, 5, 268, 200, 39, 264, 95, 46, 263, 255, 254, 35, 135, 58, 317, 213, 269, 312, 102, 60, 333, 257, 322, 107, 291, 37, 316, 1, 296, 324, 27, 209, 53, 261, 329, 69, 203, 140, 285, 9, 54, 239, 238, 307, 77, 129, 292, 169, 284, 119, 154, 282, 256]
#Rotor_combination,Rotor_Setting=random_settings()
initial_settings.append(Rotor_combination)
initial_settings.append(Rotor_Setting)
for i in input_string:
    ascii_num=tonum(i)
    Rotor_combination,Rotor_Setting,ascii_num=encrypt(Rotor_combination,Rotor_Setting,ascii_num)
    var=ascii_num
    cipher_text=cipher_text+tochar(var)
print('Encrypted text= '+cipher_text)
print('Key = '+str(initial_settings))
x=''
x=cipher_text

#Rotor_combination=[69, 335, 81, 28, 70, 270, 294, 45, 83, 181, 236, 118, 203, 49, 163, 265, 206, 32, 138, 297, 8, 128, 281, 295, 260, 114, 108, 229, 120, 126, 43, 346, 96, 257, 145, 300, 155, 182, 146, 19, 14, 241, 222, 68, 31, 312, 66, 0, 76, 156, 255, 343, 302, 135, 256, 322, 296, 263, 116, 344, 235, 150, 278, 159, 106, 232, 233, 109, 262, 10, 272, 301, 339, 348, 290, 330, 102, 178, 223, 259, 153, 33, 158, 189, 199, 217, 15, 169, 268, 57, 226, 110, 336, 238, 117, 142, 250, 273, 132, 149, 5, 274, 242, 292, 314, 72, 252, 124, 280, 99, 279, 58, 92, 284, 4, 212, 200, 228, 175, 208, 289, 55, 25, 122, 82, 88, 59, 172, 247, 144, 140, 40, 321, 78, 89, 215, 103, 326, 139, 134, 133, 283, 310, 313, 191, 337, 177, 291, 148, 254, 44, 307, 107, 1, 287, 136, 157, 95, 60, 249, 227, 113, 151, 20, 179, 349, 216, 266, 137, 315, 234, 90, 190, 12, 201, 230, 246, 264, 209, 100, 48, 154, 219, 119, 198, 196, 325, 24, 293, 54, 333, 253, 27, 185, 125, 35, 52, 338, 161, 39, 269, 26, 173, 288, 193, 271, 101, 65, 105, 30, 218, 77, 308, 340, 282, 79, 91, 98, 305, 84, 239, 261, 224, 21, 180, 11, 184, 317, 244, 323, 347, 187, 7, 211, 225, 186, 248, 306, 197, 38, 127, 231, 192, 327, 334, 56, 75, 168, 104, 164, 204, 2, 332, 18, 167, 131, 341, 71, 152, 62, 50, 207, 36, 174, 221, 258, 194, 41, 318, 331, 42, 13, 285, 67, 214, 213, 160, 64, 9, 23, 220, 324, 237, 29, 111, 37, 205, 276, 320, 176, 243, 303, 165, 63, 47, 311, 188, 130, 319, 97]
#Rotor_Setting=[128, 32, 127, 10, 67, 29, 119, 60, 104, 91, 37, 57, 64, 71, 59, 119, 63, 89, 11, 34, 2, 91, 45, 105, 29, 10, 109, 15, 20, 64, 67, 74, 98, 99, 122, 94, 59, 24, 76, 96, 107, 54, 94, 29, 13, 12, 79, 21, 82, 49, 128, 77, 68, 107, 120, 118, 113, 2, 99, 22, 19, 73, 13, 110, 119, 17, 94, 16, 113, 115, 112, 122, 11, 86, 73, 93, 54, 33, 11, 22, 88, 4, 67, 101, 84, 70, 59, 63, 61, 82, 3, 112, 21, 71, 109, 0, 12, 126, 7, 90, 33, 17, 107, 118, 26, 117, 107, 91, 43, 61, 75, 89, 115, 61, 89, 52, 3, 91, 6, 67, 116, 1, 128, 33, 58, 69, 36, 18, 5, 48, 21, 7, 18, 38, 59, 98, 79, 93, 32, 8, 109, 88, 126, 44, 76, 15, 86, 117, 120, 32, 1, 12, 100, 3, 121, 69, 42, 46, 78, 124, 115, 23, 22, 27, 91, 125, 20, 119, 47, 20, 123, 95, 41, 92, 118, 3, 34, 90, 103, 100, 17, 16, 82, 48, 25, 80, 80, 80, 13, 2, 86, 60, 8, 10, 30, 127, 67, 2, 65, 35, 109, 124, 103, 113, 80, 62, 90, 60, 121, 61, 17, 2, 98, 99, 108, 121, 51, 74, 65, 24, 110, 11, 34, 21, 7, 76, 127, 48, 123, 64, 113, 65, 91, 21, 25, 12, 109, 47, 60, 45, 5, 75, 17, 110, 66, 83, 72, 38, 117, 99, 87, 123, 18, 28, 25, 76, 84, 90, 3, 38, 83, 114, 88, 67, 83, 60, 74, 106, 50, 86, 67, 18, 122, 34, 77, 90, 69, 90, 10, 60, 30, 13, 101, 103, 112, 86, 53, 46, 58, 77, 104, 58, 111, 58, 85, 93, 125, 97, 32, 12]
cipher_text=''
input_string=x
for i in input_string:
    ascii_num=tonum(i)
    Rotor_combination,Rotor_Setting,ascii_num=decrypt(Rotor_combination,Rotor_Setting,ascii_num)
    var=ascii_num
    cipher_text=cipher_text+tochar(var)
print('Decrypted text= '+cipher_text)
